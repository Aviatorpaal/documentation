---
title: "12.0-U8"
weight: 2
---

{{< include file="/static/includes/General/LifecycleTable.html.part" html="true" >}}

**February 2, 2022**

TrueNAS 12.0-U8 has been released, and includes a number of fixes, improvements, and features. These include:

* [OpenZFS 2.0.7](https://github.com/openzfs/zfs/releases/tag/zfs-2.0.7)
* New "Console Port" and "TLS Server URI" input fileds in S3 service configuration form.
* Direct link to TrueNAS Upgrades article from Update screen.

For those with FreeNAS installed on your system, we recommend [updating]({{< relref "/core/system/update/#truenas-core" >}}) or [upgrading]({{< relref "/CORE/System/Update/" >}}) to [FreeNAS 11.3-U5](https://download.freenas.org/) first and then upgrading to TrueNAS 12.0-U8 with a single click to retain roll-back options. While it is an easy web update, we do recommend waiting to update your system’s zpool feature flags until you are finished validating your performance and functionality.

For those with TrueNAS HA systems and support contracts, we recommend contacting iXsystems Support to schedule an upgrade. We will verify your systems’ health, configuration, and support the upgrade process as part of the “white glove” service that comes with any support contract.

{{< expand "Contacting iXsystems Support" "v" >}}
{{< include file="static/includes/General/iXsystemsSupportContact.html.part" html="true" >}}
{{< /expand >}}

Please check out the updated [TrueNAS documentation](https://www.truenas.com/docs/) even if you don’t upgrade today. We’re extremely grateful for all the contributions received thus far and encourage more user suggestions going forward.

## Samba CVE Notice

"All versions of Samba prior to 4.13.17 are vulnerable to an
out-of-bounds heap read write vulnerability that allows remote
attackers to execute arbitrary code as root on affected Samba
installations that use the VFS module vfs_fruit.

The specific flaw exists within the parsing of EA metadata when
opening files in smbd. Access as a user that has write access to a
file's extended attributes is required to exploit this
vulnerability. Note that this could be a guest or unauthenticated user
if such users are allowed write access to file extended attributes.

The problem in vfs_fruit exists in the default configuration of the
fruit VFS module using fruit:metadata=netatalk or fruit:resource=file.
If both options are set to different settings than the default values,
the system is not affected by the security issue."

Source: [CVE-2022-44142](https://www.samba.org/samba/security/CVE-2021-44142.html)

The CVE does not affect TrueNAS in its default configuration. However, it does impact configurations where users have opted to share same paths via AFP and SMB simultaneously. We recommend users upgrade to 12.0-U8 as soon as possible to eliminate this security risk. 

## TrueNAS 12.0-U8 Changelog

### Improvement

<ul>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-113985'>NAS-113985</a>] -         Merge OpenZFS 2.0.7
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-114028'>NAS-114028</a>] -         Add an input field for &quot;tls_server_uri&quot; into in S3 configuration form
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-114137'>NAS-114137</a>] -         Add an input field &quot;console_bindport&quot; into in S3 configuration form
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-114297'>NAS-114297</a>] -         Add link to docs from Update page
</li>
</ul>
    
### New Feature

<ul>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-114103'>NAS-114103</a>] -         Include igc(4) driver for I225 Intel NICs
</li>
</ul>
    
### Bug

<ul>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-106633'>NAS-106633</a>] -         Cron tasks are run on wrong time zone after initial setup
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-112371'>NAS-112371</a>] -         Misleading and ambiguous description for creating a new pool with encryption
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-113240'>NAS-113240</a>] -         smbd crashes while freeing tree connection if user can&#39;t chdir() into connectpath
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-113323'>NAS-113323</a>] -         System locks up with all CPUs performing arc_prune
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-113356'>NAS-113356</a>] -         intermittent smbd crash during session logoff
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-113368'>NAS-113368</a>] -         Jail stopped working after upgrade to 12.0-U6.1 with utf-8 decoding error
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-113393'>NAS-113393</a>] -         crash during snapshot enumeration in zfs_fsrvp - regression in port to samba 4.13
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-113409'>NAS-113409</a>] -         iSCSi Initiators not showing any connected after 12.ou5 update
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-113513'>NAS-113513</a>] -         Files Copied to SMB Shares Have File Modified Time Adjusted
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-113621'>NAS-113621</a>] -         smbd assertion - failure to chdir() to share connectpath when session has multiple tcons with different credentials
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-113631'>NAS-113631</a>] -         Fix bug in initializing hwm in winbindd_idmap.tdb
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-113727'>NAS-113727</a>] -         Web gui unresponsive after a few days
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-113741'>NAS-113741</a>] -         4 port FC NICs Duplicate WWPN from isp0 and isp1 to isp2 and isp3
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-113744'>NAS-113744</a>] -         regression in hook_setup_ha on CORE
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-113751'>NAS-113751</a>] -         httpd.core after upgrade to 12.U7
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-113813'>NAS-113813</a>] -         Update plugin artifact before executing pre update script
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-113814'>NAS-113814</a>] -         Graphs are empty
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-113823'>NAS-113823</a>] -         Asigra jail upgrade failed, and couldn&#39;t rollback
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-113863'>NAS-113863</a>] -         Samba Kerberos authentication fails in MIT realms since 12.0-U6.1
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-113925'>NAS-113925</a>] -         Provide correct file generation number
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-114020'>NAS-114020</a>] -         Despite NAS-110600 being marked as resolved, the same bug continues to prevent me from disconnecting two outdated pools.
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-114034'>NAS-114034</a>] -         Installing Nextcloud as a plugin leads to php error
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-114047'>NAS-114047</a>] -         core file found
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-114052'>NAS-114052</a>] -         Checkboxes on Alert Services Page have strange behavior
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-114116'>NAS-114116</a>] -         Make minio console port configurable
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-114125'>NAS-114125</a>] -         Memory leak in snmp-agent.py
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-114164'>NAS-114164</a>] -         Disable SMB1 Unix Extensions by default
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-114177'>NAS-114177</a>] -         fix disk.sync with multipath disks
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-114178'>NAS-114178</a>] -         enclosure plugin doesn&#39;t account for multipath
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-114239'>NAS-114239</a>] -         Add alert for CVE-2021-20316-related misconfiguration
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-114277'>NAS-114277</a>] -         sesutil fails to control LEDs on ES102
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-114278'>NAS-114278</a>] -         Merge FreeBSD SA-22:01 EN-22:02-04
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-114320'>NAS-114320</a>] -         Fix handling of errors from dmu_write_uio_dbuf() on FreeBSD
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-114468'>NAS-114468</a>] -         CVE-2022-44142 (SMB)
</li>
<li>[<a href='https://jira.ixsystems.com/browse/NAS-114491'>NAS-114491</a>] -         net/samba - update to version 4.13.16
</li>
</ul>
